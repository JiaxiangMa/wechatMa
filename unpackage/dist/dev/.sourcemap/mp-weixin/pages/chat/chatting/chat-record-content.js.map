{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?53d1","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?851d","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?8744","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?3ea2","uni-app:///pages/chat/chatting/chat-record-content.vue","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?279e","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?fd4d","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?623a","webpack:///C:/Users/maxiaozha/Documents/HBuilderProjects/仿微信聊天app/pages/chat/chatting/chat-record-content.vue?7654"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","chatItem","data","forceShareFlag","contentList","contentObjStr","shareContent","navbarTitle","scrollViewHeight","providerShow","titleObj","text","color","fontSize","providerList","value","saveObj","previewSrcArr","onReady","onLoad","that","methods","getShareMsgByUserId","msgId","console","customBack","uni","formatShareContent","parseStr","parseChatRecord","str","cancelShare","openProviderAction","content","href","iosShare","plus","type","title","thumbs","providerClick","androidShare","weixinShareNative","appid","apppackage","url","flag","icon","weixinShare","qqShareNative","shareCallback","duration","saveLocal"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,0BAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4I;AAC5I;AACuE;AACL;AACsC;AACzB;;;AAG/E;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,yFAAM;AACR,EAAE,0GAAM;AACR,EAAE,mHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,qPAEN;AACP,KAAK;AACL;AACA,aAAa,+QAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAA6mB,CAAgB,uoBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuCjoB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC,eACA;QAAAH;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,EACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;MACA;IACA;IAAA;IACA;IACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;QACAC;QACA;UACA;UACA;UACAA;QACA;MACA;MACA;MACA;MACA;IACA;EACA;EAEAC;IACAC;MAAA;MACA;MACA;QACAC;MACA;MACAH;QACAI;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IAEAC;MACAC;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;UACA;UACAlB;UACA;UACAmB;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACA;MAAA;MAEA;IACA;IAGAC;MACAL;IACA;IACA;IACAM;MACA;MACAZ;MACA;MACA;QACA;UACAa;UACAV;UACAW;QACA;QACAd;UACAI;UACA;YACA;YACAJ;YACAA;UACA;YACAA;YACA;UACA;QACA;QACA;MACA;QACA;QACAA;QACA;MACA;QACAA;QACA;MACA;IACA;IACA;IACAe;MACA;MACA;QACA;QACA;QACA;QACA;QACAX;QACAY,0BACA;UACAC;UACAC;UACAL;UACAC;UACAK;QACA,GACA;UACAf;QACA,GACA,aACA;UACAA;QACA,EACA;MACA;QACA;MACA;IACA;IACA;IACAgB;MAAA;MACA;MACA;MACA;MACAhB;MACA;QACAS;QACAV;QACAW;MACA;MACAd;QACAI;QACA;UACA;UACAJ;UACA;QACA;UACAA;UACA;QACA;MACA;MACA;IACA;IACA;IACAqB;MACA;MACA;MACA;QACA;QACAjB;QACA;QACA;UACA;QACA;UACAA;UACA;QACA;MACA,OACA;QACA;MACA;IACA;IACA;IACAkB;MACAlB;MACA;QACAmB;QACAC;QACAC;QACAP;QACAQ;QACAb;QACAc;MACA;MACA;MACAC;IACA;IAGAC;MACA;MACAzB;MACA;QACAmB;QAAA;QACAC;QAAA;QACAC;QACAP;QACAL;QACAc;MACA;MACAvB;MACA;MACAwB;IACA;IAGA;IACAE;MACAxB;QACAY;QACAa;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;UACA;UACA;UACAhC;UACA;QACA;UACA;UACA;YACA;YACA;YACAA;UACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;MAAA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpXA;AAAA;AAAA;AAAA;AAAgrC,CAAgB,spCAAG,EAAC,C;;;;;;;;;;;ACApsC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA+3B,CAAgB,g4BAAG,EAAC,C;;;;;;;;;;;ACAn5B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chat/chatting/chat-record-content.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chat/chatting/chat-record-content.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat-record-content.vue?vue&type=template&id=01a50ef7&scoped=true&\"\nvar renderjs\nimport script from \"./chat-record-content.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-record-content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-record-content.vue?vue&type=style&index=0&id=01a50ef7&lang=scss&scoped=true&\"\nimport style1 from \"./chat-record-content.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01a50ef7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/chatting/chat-record-content.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=template&id=01a50ef7&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    chatItem: function () {\n      return import(\n        /* webpackChunkName: \"components/chat-item/chat-item\" */ \"@/components/chat-item/chat-item.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-modal/u-modal\" */ \"uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    fontSize: \"32rpx\",\n    color: \"#000000\",\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view>\r\n\t\t\t<u-navbar :is-back=\"false\" title=\"\" :background=\"{backgroundColor:'#f1f1f1'}\">\r\n\t\t\t\t<view class=\"custom-navbar\">\r\n\t\t\t\t\t<view class=\"nav-left u-font-32\" @click=\"customBack\">\r\n\t\t\t\t\t\t<u-icon  name=\"arrow-left\" color=\"#000000\" size=\"34\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"nav-center u-flex u-row-center u-col-center\">\r\n\t\t\t\t\t\t<view class=\"u-line-1\" style=\"max-width: 500rpx;\">{{navbarTitle}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"nav-right\"  @click=\"openProviderAction\">\r\n\t\t\t\t\t\t<!-- <u-icon @click=\"openProviderAction\" name=\"more-dot-fill\" color=\"#606266\" size=\"40\"></u-icon> -->\r\n\t\t\t\t\t\t<text>分享</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-navbar>\r\n\t\t</view>\r\n\t\t<scroll-view v-show=\"forceShareFlag==false\" \r\n\t\t\t\t\t:scroll-y=\"true\" class=\"hidden-scroll-bar\" :style=\"'height:'+scrollViewHeight+'px'\">\r\n\t\t\t<view v-for=\"(msgItem,index) in contentList\" :key=\"index\">\r\n\t\t\t\t<chat-item :chatGroupType=\"1\" :showCheck=\"false\"  :item=\"msgItem\" :previewSrcArr=\"previewSrcArr\">\r\n\t\t\t\t</chat-item>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<u-action-sheet :list=\"providerList\" v-model=\"providerShow\" :tips=\"titleObj\"\r\n\t\t\t\t\t\t:mask-close-able=\"false\"\r\n\t\t\t\t\t\t@click=\"providerClick\" :cancel-btn=\"false\"></u-action-sheet>\r\n\t\t\r\n\t\t<u-modal v-model=\"forceShareFlag\" :mask-close-able=\"false\"\r\n\t\t\t\twidth=\"90%\"\t:content-style=\"{'fontSize':'32rpx','color':'#000000'}\"\r\n\t\t\t\t:show-title=\"false\" content=\"亲~分享后才可以查看内容~\"\r\n\t\t\t\t:show-confirm-button=\"true\" confirm-text=\"去分享\"\r\n\t\t\t\t@confirm=\"openProviderAction\" @cancel=\"cancelShare\"\r\n\t\t\t\t:show-cancel-button=\"true\" cancel-text=\"放弃浏览\"></u-modal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst weixinShare = uni.requireNativePlugin('AThree-weixinShare');\r\n\timport chatItem from '@/components/chat-item/chat-item.vue';\r\n\texport default {\r\n\t  components:{\r\n\t    chatItem\r\n    },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tforceShareFlag:false,\r\n\t\t\t\tcontentList:[],\t //信息记录\r\n\t\t\t\tcontentObjStr:\"\",//保存到数据库的记录\r\n\t\t\t\tshareContent:\"\", //分享出去的展示\r\n\t\t\t\tnavbarTitle:\"聊天记录\",\r\n\t\t\t\tscrollViewHeight:0,\r\n\t\t\t\tproviderShow:false,\r\n\t\t\t\ttitleObj: {\r\n\t\t\t\t\ttext: '分享到',\r\n\t\t\t\t\tcolor: '#000000',\r\n\t\t\t\t\tfontSize: 28\r\n\t\t\t\t},\r\n\t\t\t\tproviderList:[\r\n\t\t\t\t\t{text: '微信',value:1},\r\n\t\t\t\t\t{text: 'QQ',value:2},\r\n\t\t\t\t],\r\n\t\t\t\tsaveObj:null,\r\n\t\t\t\tpreviewSrcArr:[],\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tlet scrollViewHeight = this.$u.sys().windowHeight * 0.88;\r\n\t\t\tthis.scrollViewHeight = scrollViewHeight;\r\n\t\t},\r\n\t\tonLoad:function(option){\r\n\t\t\tlet that=this;\r\n\t\t\tthis.previewSrcArr=[];\r\n\t\t\tif(option.navbarTitle){\r\n\t\t\t\tthis.navbarTitle=option.navbarTitle;\r\n\t\t\t};\r\n\t\t\tlet contentObjStr= option.chatRecordContentObj;\r\n\t\t\tif(contentObjStr){\r\n\t\t\t\tthis.contentObjStr=contentObjStr;\r\n\t\t\t\tlet contentObj=JSON.parse(decodeURIComponent(contentObjStr));\r\n\t\t\t\t//console.log(\"当前对象\",contentObj);\r\n\t\t\t\tlet contentStr= contentObj.content;\r\n\t\t\t\tlet contentList= JSON.parse(contentStr);\r\n\t\t\t\tthis.contentList=contentList;\r\n\t\t\t\t//console.log(\"聊天记录\",this.contentList);\r\n\t\t\t\tthis.contentList.sort(function(x,y){\r\n\t\t\t\t\tif(x.id<y.id){\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.contentList.map(function(item){\r\n\t\t\t\t   let contentType=item.contentType;\n\t\t\t\t   that.saveLocal(item);\t\t\t\t\t\r\n\t\t\t\t   if(item.contentType==2||item.contentType==11){\r\n\t\t\t\t\t   let imageObj=JSON.parse(item.content);\r\n\t\t\t\t\t   let src=imageObj.url;\r\n\t\t\t\t\t   that.previewSrcArr.push(src);\r\n\t\t\t\t   }\r\n\t\t\t\t})\r\n\t\t\t\tthis.shareContent=this.formatShareContent();\r\n\t\t\t\t//console.log(\"this.shareContent\",this.shareContent);\r\n\t\t\t\tthis.getShareMsgByUserId();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods:{\r\n\t\t\tgetShareMsgByUserId:function(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet param={\r\n\t\t\t\t\tmsgId:JSON.parse(this.contentObjStr).id,\r\n\t\t\t\t};\r\n\t\t\t\tthat.$u.api.chatGroup.getShareMsgByUserId(param).then(res => {\r\n\t\t\t\t\tconsole.log(\"是否已经分享过\",res);\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t   let data=res.data;\r\n\t\t\t\t\t   this.forceShareFlag=!data;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.forceShareFlag=true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcustomBack: function() {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\t//格式化分享的内容字符串\r\n\t\t\tformatShareContent:function(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet parseStr=\"\";\r\n\t\t\t\tlet contentList=JSON.parse(JSON.stringify(this.contentList));\r\n\t\t\t\tfor (let i = 0; i < contentList.length; i++) {\r\n\t\t\t\t\tlet contentObj= contentList[i];\r\n\t\t\t\t\t//let msgObj= JSON.parse(contentObj);\r\n\t\t\t\t\t//console.log(\"msgObj\",contentObj);\r\n\t\t\t\t\tlet str= this.parseChatRecord(contentObj);\r\n\t\t\t\t\tparseStr=parseStr+str+\"\\r\\n\";\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(\"parseStr\",parseStr);\r\n\t\t\t\treturn parseStr;\r\n\t\t\t},\r\n\t\t\t//解析分享内容\r\n\t\t\tparseChatRecord: function(content) {\r\n\t\t\t\tlet userName = content.userName;\r\n\t\t\t\tlet contentType = content.contentType;\r\n\t\t\t\tlet innerContent = content.content;\r\n\t\t\t\tlet str = userName + \": [不可识别的信息类型]\";\r\n\t\t\t\tswitch (contentType) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tlet text = JSON.parse(innerContent).text;\r\n\t\t\t\t\t\ttext = text.replace(/face/g, '');\r\n\t\t\t\t\t\t//let transText= this.globalUtil.transform(text, \"\", \"\");\r\n\t\t\t\t\t\tstr = userName + \": \" + text;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tstr = userName + \": [图片]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tstr = userName + \": [视频]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tstr = userName + \": [语音]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tstr = userName + \": [文件]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\tstr = userName + \": [红包]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\tstr = userName + \": [名片]\";\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\tstr = userName + \": [位置]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 10:\r\n\t\t\t\t\t\tstr = userName + \": [聊天记录]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 11:\r\n\t\t\t\t\t\tstr=userName+\": [图文信息]\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 12:\r\n\t\t\t\t\t\tstr=userName+\": [视频文字混合]\";\r\n\t\t\t\t\t\tbreak;\t\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcancelShare:function(){\r\n\t\t\t\tuni.navigateBack();\t\r\n\t\t\t},\r\n\t\t\t//打开选择器\r\n\t\t\topenProviderAction:function(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tthat.forceShareFlag=false;\r\n\t\t\t\tlet platfrom= this.$u.os();\r\n\t\t\t\tif('ios'==platfrom){\r\n\t\t\t\t\tlet param={\r\n\t\t\t\t\t\tcontent:this.contentObjStr,\r\n\t\t\t\t\t\tmsgId:JSON.parse(this.contentObjStr).id,\r\n\t\t\t\t\t\thref:this.navbarTitle,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$u.api.chatGroup.saveShareMsg(param).then(res => {\r\n\t\t\t\t\t\tconsole.log(\"保存记录结果\",res);\r\n\t\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\t   let data=res.data;\r\n\t\t\t\t\t\t   that.saveObj=data;\r\n\t\t\t\t\t\t   that.iosShare();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.globalUtil.utilAlert(\"分享保存失败!\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(\"android\"===platfrom){\r\n\t\t\t\t\t//that.providerShow=true;//弹窗选择分享到微信还是QQ\r\n\t\t\t\t\tthat.providerClick(0);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.globalUtil.utilAlert(\"不支持此操作!\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//分享到苹果\r\n\t\t\tiosShare:function(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tif(that.saveObj!=null&&that.saveObj.id){\r\n\t\t\t\t\tlet jiaMiID= btoa(\"Tomato_\"+that.saveObj.id);\r\n\t\t\t\t\t//console.log(\"加密后的\",jiaMiID);\r\n\t\t\t\t\tlet href=that.vuex_app_config.shareURL+\"/index.html#/pages/tabbar/home?shareID=\"+jiaMiID;\r\n\t\t\t\t\tlet encodeUrl= encodeURI(href);\r\n\t\t\t\t\tconsole.log(\"encodeUrl\",encodeUrl);\r\n\t\t\t\t\tplus.share.sendWithSystem(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype:'web',\r\n\t\t\t\t\t\t\ttitle:this.navbarTitle,\r\n\t\t\t\t\t\t\tcontent:this.shareContent,\r\n\t\t\t\t\t\t\thref:href,\r\n\t\t\t\t\t\t\tthumbs:[that.vuex_app_config.shareIcon?that.vuex_app_config.shareIcon:'/static/image/login/login-icon.png']\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\tconsole.log('分享成功');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.log('分享失败：'+JSON.stringify(e));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.globalUtil.utilAlert(\"分享保存失败!\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//选择分享平台\r\n\t\t\tproviderClick:function(index){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet provideId= this.providerList[index].value;\r\n\t\t\t\tlet provideText=this.providerList[index].text;\r\n\t\t\t\tconsole.log(\"安卓分享到\"+provideText);\r\n\t\t\t\tlet param={\r\n\t\t\t\t\tcontent:this.contentObjStr,\r\n\t\t\t\t\tmsgId:JSON.parse(this.contentObjStr).id,\r\n\t\t\t\t\thref:this.navbarTitle,\r\n\t\t\t\t}\r\n\t\t\t\tthat.$u.api.chatGroup.saveShareMsg(param).then(res => {\r\n\t\t\t\t\tconsole.log(\"保存记录结果\",res);\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t   let data=res.data;\r\n\t\t\t\t\t   that.saveObj=data;\r\n\t\t\t\t\t   this.androidShare(provideId);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.globalUtil.utilAlert(\"分享保存失败!\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\t//分享\r\n\t\t\tandroidShare:function(providerId){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet data= that.saveObj;\r\n\t\t\t\tif(data!=null&&data.id){\r\n\t\t\t\t\tlet jiaMiID= btoa(\"Tomato_\"+data.id);\r\n\t\t\t\t\tconsole.log(\"加密后的\",jiaMiID);\r\n\t\t\t\t\tlet href=that.vuex_app_config.shareURL+\"/index.html#/pages/tabbar/home?shareID=\"+jiaMiID;\r\n\t\t\t\t\tif(providerId==1){\r\n\t\t\t\t\t\tthis.weixinShareNative(href);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(\"分享到qq\");\r\n\t\t\t\t\t\tthis.qqShareNative(href);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.globalUtil.utilAlert(\"分享保存失败!\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//分享到安卓\r\n\t\t\tweixinShareNative(href) {\r\n\t\t\t\tconsole.log(\"分享\",href);\r\n\t\t\t    let shareObj = {\r\n\t\t\t\t\tappid: '',\r\n\t\t\t\t\tapppackage: '',\r\n\t\t\t\t\turl: href,\r\n\t\t\t\t\ttitle:this.navbarTitle,\r\n\t\t\t\t\tflag:'2',\r\n\t\t\t\t\tcontent:this.shareContent,\r\n\t\t\t\t\ticon: this.vuex_app_config.shareIcon?this.vuex_app_config.shareIcon:'/static/image/login/login-icon.png',\r\n\t\t\t    };\r\n\t\t\t\tlet jsonShareObj = JSON.stringify(shareObj);\r\n\t\t\t\tweixinShare.shareAppURL(jsonShareObj,this.shareCallback);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tqqShareNative(href) {\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tconsole.log(\"分享\",href);\r\n\t\t\t    let shareObj = {\r\n\t\t\t\t\tappid:'',//102031944\r\n\t\t\t\t\tapppackage:'',//com.tomato.chat\r\n\t\t\t\t\turl:href,\r\n\t\t\t\t\ttitle:this.navbarTitle,\r\n\t\t\t\t\tcontent:this.shareContent,\r\n\t\t\t\t\ticon:this.vuex_app_config.shareIcon?this.vuex_app_config.shareIcon:'/static/image/login/login-icon.png',\r\n\t\t\t    };\r\n\t\t\t\tconsole.log(\"分享到QQ的参数\",shareObj);\r\n\t\t\t\t//let jsonShareObj = JSON.stringify(shareObj);\r\n\t\t\t\tweixinShare.qqShare(shareObj,this.shareCallback);\r\n\t\t\t},\r\n\t\t\t\r\n\r\n\t\t\t//分享回调\r\n\t\t\tshareCallback() {\r\n\t\t\t   uni.showToast({\r\n\t\t\t\ttitle: '成功',\r\n\t\t\t\tduration:3000,\r\n\t\t\t   });\r\n\t\t\t},\r\n\t\t\t//将图片，视频信息放入缓存中\n\t\t\tsaveLocal:function(messageObj){\n\t\t\t\tlet that=this;\n\t\t\t\tlet msgId= messageObj.id;\n\t\t\t\tlet contentType= messageObj.contentType;\n\t\t\t\tlet contentObj=JSON.parse(messageObj.content);\n\t\t\t\tswitch (contentType+''){\n\t\t\t\t\tcase \"2\":\n\t\t\t\t\t\tlet url =contentObj.url;\n\t\t\t\t\t\t//console.log(\"聊天记录文件存入缓存\",url);\n\t\t\t\t\t\tthat.messageApi.setImageLocalSrc(url,msgId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"3\":\n\t\t\t\t\t\tlet subImgInfo = contentObj.subImgInfo;\n\t\t\t\t\t\tif (subImgInfo) {\n\t\t\t\t\t\t\tlet url= subImgInfo.url;\n\t\t\t\t\t\t\t//console.log(\"聊天记录文件存入缓存\",url);\n\t\t\t\t\t\t\tthat.messageApi.setImageLocalSrc(url,msgId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"4\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"11\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"12\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t};\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.custom-navbar {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 30rpx;\r\n\r\n\t\t.nav-left {\r\n\t\t\r\n\t\t}\r\n\r\n\t\t.nav-center {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t.nav-right {\r\n\t\t\r\n\t\t}\r\n\t}\r\n</style>\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #f1f1f1;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=style&index=0&id=01a50ef7&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=style&index=0&id=01a50ef7&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682612666902\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat-record-content.vue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682612657972\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}